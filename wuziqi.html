<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>五子棋游戏</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<style>
			.cell{
				border: 1px solid #FF0000;
				display: inline-block;
			}
			.flag{
				border-radius: 50%;
				position: absolute;
			}
		</style>
	</head>

	<body>
		<div id="area" style="margin: 50px;background-color: #AAAAAA;">
			
		</div>
		<script src="js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init();
			//基本全局参数
			var SNUM=15;   //格子数量
			var SH=55;     //格子高度
			var SW=55;     //格子宽度
			var WIN=5;   //判断输赢旗子数
			var R=25;    //旗子半径
			var FLAGH=55; //旗子高度
			var FLAGW=55;  //旗子宽度
			
			var gameArea=document.getElementById("area");
			var nowPlayer=1;//1为黑手 2为白手
						
			var Board={
				//初始化棋盘
				init:function(){
					gameArea.style.maxWidth=SNUM*SW+"px";
					var df=document.createDocumentFragment();
					for(var i=0;i<SNUM;i++){
						var row=document.createElement('div');
						row.style.minWidth=SNUM*SW+"px";
						row.style.maxWidth=SNUM*SW+"px";
						row.style.height=SH+"px";
						for(var j=0;j<SNUM;j++){
							var cell=document.createElement('div');
							cell.className="cell";
							cell.style.width=SW+"px";
							cell.style.height=SH+"px";
							row.appendChild(cell);
						}
					    df.appendChild(row)	
					}
					document.getElementById("area").appendChild(df);
				}
			}
			
			
			var Flag={
				//绘制旗子
				draw:function(fx,fy,player){
					var div=document.createElement('div');
					div.className="flag";
					if(player==1){
						div.style.backgroundColor="#000000";
					}else{
						div.style.backgroundColor="#ffffff";
					}
					div.style.width=FLAGW+"px";
					div.style.height=FLAGH+"px";
					div.style.left=fx-FLAGW/2+"px";
					div.style.top=fy-FLAGH/2+"px";
					gameArea.appendChild(div);
				}
			}
			
			
			
			
			Board.init();
			gameArea.addEventListener('tap',function(e){	
				console.log(e.detail.center)
				var fx=e.detail.center.x;
				var fy=e.detail.center.y;
				Flag.draw(fx,fy,nowPlayer);
			    nowPlayer==1 ? nowPlayer=2 : nowPlayer=1;
			});
		</script>
	</body>

</html>